import{e as D,a as z,c as F,b as H}from"./pagination.min-d1414716.js";function L(a=""){return`.${a.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function q({swiper:a,extendParams:P,on:u,emit:y}){const c="swiper-pagination";P({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:l=>l,formatFractionTotal:l=>l,bulletClass:`${c}-bullet`,bulletActiveClass:`${c}-bullet-active`,modifierClass:`${c}-`,currentClass:`${c}-current`,totalClass:`${c}-total`,hiddenClass:`${c}-hidden`,progressbarFillClass:`${c}-progressbar-fill`,progressbarOppositeClass:`${c}-progressbar-opposite`,clickableClass:`${c}-clickable`,lockClass:`${c}-lock`,horizontalClass:`${c}-horizontal`,verticalClass:`${c}-vertical`,paginationDisabledClass:`${c}-disabled`}}),a.pagination={el:null,bullets:[]};let b,m=0;const p=l=>(Array.isArray(l)||(l=[l].filter(e=>!!e)),l);function B(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function x(l,e){const{bulletActiveClass:t}=a.params.pagination;l&&(l=l[`${e==="prev"?"previous":"next"}ElementSibling`],l&&(l.classList.add(`${t}-${e}`),l=l[`${e==="prev"?"previous":"next"}ElementSibling`],l&&l.classList.add(`${t}-${e}-${e}`)))}function I(l){const e=l.target.closest(L(a.params.pagination.bulletClass));if(!e)return;l.preventDefault();const t=z(e)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===t)return;(t<a.loopedSlides||t>a.slides.length-a.loopedSlides)&&a.loopFix({direction:t<a.loopedSlides?"prev":"next",activeSlideIndex:t,slideTo:!1}),a.slideToLoop(t)}else a.slideTo(t)}function h(){const l=a.rtl,e=a.params.pagination;if(B())return;let t=a.pagination.el;t=p(t);let n;const d=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,g=a.params.loop?Math.ceil(d/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex:typeof a.snapIndex<"u"?n=a.snapIndex:n=a.activeIndex||0,e.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const s=a.pagination.bullets;let f,o,$;if(e.dynamicBullets&&(b=D(s[0],a.isHorizontal()?"width":"height",!0),t.forEach(i=>{i.style[a.isHorizontal()?"width":"height"]=`${b*(e.dynamicMainBullets+4)}px`}),e.dynamicMainBullets>1&&a.previousIndex!==void 0&&(m+=n-(a.previousIndex||0),m>e.dynamicMainBullets-1?m=e.dynamicMainBullets-1:m<0&&(m=0)),f=Math.max(n-m,0),o=f+(Math.min(s.length,e.dynamicMainBullets)-1),$=(o+f)/2),s.forEach(i=>{i.classList.remove(...["","-next","-next-next","-prev","-prev-prev","-main"].map(r=>`${e.bulletActiveClass}${r}`))}),t.length>1)s.forEach(i=>{const r=z(i);r===n&&i.classList.add(e.bulletActiveClass),e.dynamicBullets&&(r>=f&&r<=o&&i.classList.add(`${e.bulletActiveClass}-main`),r===f&&x(i,"prev"),r===o&&x(i,"next"))});else{const i=s[n];if(i&&i.classList.add(e.bulletActiveClass),e.dynamicBullets){const r=s[f],C=s[o];for(let v=f;v<=o;v+=1)s[v]&&s[v].classList.add(`${e.bulletActiveClass}-main`);x(r,"prev"),x(C,"next")}}if(e.dynamicBullets){const i=Math.min(s.length,e.dynamicMainBullets+4),r=(b*i-b)/2-$*b,C=l?"right":"left";s.forEach(v=>{v.style[a.isHorizontal()?C:"top"]=`${r}px`})}}t.forEach((s,f)=>{if(e.type==="fraction"&&(s.querySelectorAll(L(e.currentClass)).forEach(o=>{o.textContent=e.formatFractionCurrent(n+1)}),s.querySelectorAll(L(e.totalClass)).forEach(o=>{o.textContent=e.formatFractionTotal(g)})),e.type==="progressbar"){let o;e.progressbarOpposite?o=a.isHorizontal()?"vertical":"horizontal":o=a.isHorizontal()?"horizontal":"vertical";const $=(n+1)/g;let i=1,r=1;o==="horizontal"?i=$:r=$,s.querySelectorAll(L(e.progressbarFillClass)).forEach(C=>{C.style.transform=`translate3d(0,0,0) scaleX(${i}) scaleY(${r})`,C.style.transitionDuration=`${a.params.speed}ms`})}e.type==="custom"&&e.renderCustom?(s.innerHTML=e.renderCustom(a,n+1,g),f===0&&y("paginationRender",s)):(f===0&&y("paginationRender",s),y("paginationUpdate",s)),a.params.watchOverflow&&a.enabled&&s.classList[a.isLocked?"add":"remove"](e.lockClass)})}function A(){const l=a.params.pagination;if(B())return;const e=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let t=a.pagination.el;t=p(t);let n="";if(l.type==="bullets"){let d=a.params.loop?Math.ceil(e/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&d>e&&(d=e);for(let g=0;g<d;g+=1)l.renderBullet?n+=l.renderBullet.call(a,g,l.bulletClass):n+=`<${l.bulletElement} class="${l.bulletClass}"></${l.bulletElement}>`}l.type==="fraction"&&(l.renderFraction?n=l.renderFraction.call(a,l.currentClass,l.totalClass):n=`<span class="${l.currentClass}"></span> / <span class="${l.totalClass}"></span>`),l.type==="progressbar"&&(l.renderProgressbar?n=l.renderProgressbar.call(a,l.progressbarFillClass):n=`<span class="${l.progressbarFillClass}"></span>`),t.forEach(d=>{l.type!=="custom"&&(d.innerHTML=n||""),l.type==="bullets"&&(a.pagination.bullets=[...d.querySelectorAll(L(l.bulletClass))])}),l.type!=="custom"&&y("paginationRender",t[0])}function k(){a.params.pagination=F(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const l=a.params.pagination;if(!l.el)return;let e;typeof l.el=="string"&&a.isElement&&(e=a.el.shadowRoot.querySelector(l.el)),!e&&typeof l.el=="string"&&(e=[...document.querySelectorAll(l.el)]),e||(e=l.el),!(!e||e.length===0)&&(a.params.uniqueNavElements&&typeof l.el=="string"&&Array.isArray(e)&&e.length>1&&(e=[...a.el.querySelectorAll(l.el)],e.length>1&&(e=e.filter(t=>H(t,".swiper")[0]===a.el)[0])),Array.isArray(e)&&e.length===1&&(e=e[0]),Object.assign(a.pagination,{el:e}),e=p(e),e.forEach(t=>{l.type==="bullets"&&l.clickable&&t.classList.add(l.clickableClass),t.classList.add(l.modifierClass+l.type),t.classList.add(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.type==="bullets"&&l.dynamicBullets&&(t.classList.add(`${l.modifierClass}${l.type}-dynamic`),m=0,l.dynamicMainBullets<1&&(l.dynamicMainBullets=1)),l.type==="progressbar"&&l.progressbarOpposite&&t.classList.add(l.progressbarOppositeClass),l.clickable&&t.addEventListener("click",I),a.enabled||t.classList.add(l.lockClass)}))}function M(){const l=a.params.pagination;if(B())return;let e=a.pagination.el;e&&(e=p(e),e.forEach(t=>{t.classList.remove(l.hiddenClass),t.classList.remove(l.modifierClass+l.type),t.classList.remove(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.clickable&&t.removeEventListener("click",I)})),a.pagination.bullets&&a.pagination.bullets.forEach(t=>t.classList.remove(l.bulletActiveClass))}u("init",()=>{a.params.pagination.enabled===!1?S():(k(),A(),h())}),u("activeIndexChange",()=>{typeof a.snapIndex>"u"&&h()}),u("snapIndexChange",()=>{h()}),u("snapGridLengthChange",()=>{A(),h()}),u("destroy",()=>{M()}),u("enable disable",()=>{let{el:l}=a.pagination;l&&(l=p(l),l.forEach(e=>e.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),u("lock unlock",()=>{h()}),u("click",(l,e)=>{const t=e.target;let{el:n}=a.pagination;if(Array.isArray(n)||(n=[n].filter(d=>!!d)),a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!t.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&t===a.navigation.nextEl||a.navigation.prevEl&&t===a.navigation.prevEl))return;const d=n[0].classList.contains(a.params.pagination.hiddenClass);y(d===!0?"paginationShow":"paginationHide"),n.forEach(g=>g.classList.toggle(a.params.pagination.hiddenClass))}});const O=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=p(l),l.forEach(e=>e.classList.remove(a.params.pagination.paginationDisabledClass))),k(),A(),h()},S=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=p(l),l.forEach(e=>e.classList.add(a.params.pagination.paginationDisabledClass))),M()};Object.assign(a.pagination,{enable:O,disable:S,render:A,update:h,init:k,destroy:M})}export{q as P};
